<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Producto | VENCHA</title>
    <link rel="stylesheet" href="product_styles.css">
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
</head>
<body>
    <header class="Header">
        <div class="headerPart-1">
            <a href="IndexPrincipal.html" class="headerLogo" aria-label="Volver a la página principal">
              <i class='bx bx-arrow-back'></i>
              <h1 class="Logo">VENCHA</h1>
            </a>
            <div class="icons">
                <div class="search-wrapper">
                  <img class="iconButton searchButton" src="Icons/search.svg" alt="Buscar">
                  <input type="text" class="searchInput hidden" placeholder="Buscar..." aria-label="Buscar">
                </div>
                <a href="user.html">
                    <img class="iconButton userButton" src="Icons/user.svg" alt="Button for user">
                </a>
                <a href="cart.html">
                    <img class="iconButton cartButton" src="Icons/cart.svg" alt="Button for cart">
                </a>
            </div>
        </div>
        <div class="headerLine-1"></div>
    </header>

    <main class="product-container">
        <section class="product-image">
             <img id="product-image" src="FeaturedProducts/Producto1.jpg" alt="Imagen de producto" class="image-placeholder">
        </section>

        <section class="product-details">
            <h2 id="product-title">Cargando...</h2>
            <p class="product-subtitle">Tallas</p>
            <div class="size-options">
                <button class="size-button">XS</button>
                <button class="size-button">S</button>
                <button class="size-button">M</button>
                <button class="size-button">L</button>
                <button class="size-button">XL</button>
            </div>

            <p class="product-price-label">PRECIO:</p>
            <h2 id="product-price">$0.00</h2>

            <button id="carrito" class="cart-button">Añadir al carrito</button>

            <div id="notificacion" class="oculto">Se ha añadido al carrito</div>
        </section>
    </main>

    <script src="Producto.js"></script>
    <script src="scriptSearch.js"></script>

    <footer class="footer">
    <div class="footer-container">
        <div class="footer-logo">VENCHA</div>
        <div class="footer-links">
            <div class="footer-section">
                <p class="negrilla">Acerca de VENCHA</p>
                <ul>
                    <li><p href="#">Aviso de Privacidad</p></li>
                    <li><p href="#">Términos y condiciones</p></li>
                    <li><p href="#">Formas de pago</p></li>
                </ul>
            </div>
            <div class="footer-section">
                <p class="negrilla">Información adicional</p>
                <ul>
                    <li><p href="#">Registro</p></li>
                    <li><p href="#">Contáctanos</p></li>
                </ul>
            </div>
        </div>
    </div>
    </footer>

    <script>
        // Obtener el id del producto desde la URL
        const params = new URLSearchParams(window.location.search);
        const productId = params.get('id');  // Obtén el parámetro id


        // Obtener los datos del producto desde la API
        fetch(`http://127.0.0.1:5000/producto/${productId}`)
            .then(response => {
                if (!response.ok) {
                    throw new Error('Error al obtener los datos del producto');
                }
                return response.json();
            })
            .then(product => {
                // Actualizar los detalles del producto en la página
                document.getElementById("product-title").textContent = product.titulo;
                document.getElementById("product-price").textContent = `$${Number(product.precio).toLocaleString('es-CO')}`;
                document.getElementById("product-image").src = product.imagen_url;

                // Opcional: Si hay más detalles (como descripción o tallas disponibles), puedes añadirlos aquí
                // Ejemplo: 
                // document.getElementById("product-description").textContent = product.descripcion;
            })
            .catch(error => {
                console.error('Error al cargar los datos del producto:', error);
                alert('Hubo un problema al cargar los datos del producto.');
            });
    </script>
</body>
</html>
